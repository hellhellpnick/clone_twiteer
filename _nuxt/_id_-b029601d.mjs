import{_ as f,k as v,b as h,c as T,d as r,m as y,j as x,h as g,r as i,v as S,o as b,a as d,w as m,e as $,s as w,u as j}from"./entry-d90a3592.mjs";import{a as F,_ as O}from"./MainSection-4ee1e9cd.mjs";const B={props:{tweet:{type:Object,required:!0},user:{type:Object,required:!0}},setup(u,{expose:_}){_();const n=u,e=v(()=>{var t;return((t=n.tweet)==null?void 0:t.replies)||[]});function c(t){g({path:`/status/${t.id}`})}const o={props:n,replies:e,handleFormSuccess:c};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}};function k(u,_,n,e,c,o){const t=y,a=x,s=F;return h(),T("div",null,[r(t,{tweet:e.props.tweet},null,8,["tweet"]),r(a,{placeholder:"Tweet your reply","reply-to":e.props.tweet,user:e.props.user,onOnSuccess:e.handleFormSuccess},null,8,["reply-to","user"]),r(s,{tweets:e.replies},null,8,["tweets"])])}var I=f(B,[["render",k]]);const P={setup(u,{expose:_}){_();const n=i(!1),e=i(null),{getTweetById:c}=j(),{useAuthUser:o}=$(),t=o();S(()=>w().fullPath,()=>s());function a(){return w().params.id}async function s(){n.value=!0;try{const p=await c(a());e.value=p.tweet}catch(p){console.log(p)}finally{n.value=!1}}b(()=>{s()});const l={loading:n,tweet:e,getTweetById:c,useAuthUser:o,user:t,getTweetIdFromRoute:a,getTweet:s};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}};function q(u,_,n,e,c,o){const t=d("Title"),a=d("Head"),s=I,l=O;return h(),T("div",null,[r(l,{title:"Tweet",loading:e.loading},{default:m(()=>[r(a,null,{default:m(()=>[r(t)]),_:1}),r(s,{user:e.user,tweet:e.tweet},null,8,["user","tweet"])]),_:1},8,["loading"])])}var H=f(P,[["render",q]]);export{H as default};
